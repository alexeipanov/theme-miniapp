import{s as ye,n as I,o as ve,i as we}from"../chunks/scheduler.Bmg8oFKD.js";import{S as Ce,i as Te,e as w,c as C,a as O,d as p,o as T,g as A,z as _e,s as E,t as z,f as S,b as W,p as G,h,A as Ee,j as Se}from"../chunks/index.ttLCn4K3.js";function Z(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}var Oe=typeof global=="object"&&global&&global.Object===Object&&global,Ae=typeof self=="object"&&self&&self.Object===Object&&self,Re=Oe||Ae||Function("return this")(),x=Re.Symbol,te=Object.prototype,je=te.hasOwnProperty,Le=te.toString,v=x?x.toStringTag:void 0;function Ue(e){var t=je.call(e,v),r=e[v];try{e[v]=void 0;var n=!0}catch{}var o=Le.call(e);return n&&(t?e[v]=r:delete e[v]),o}var $e=Object.prototype,De=$e.toString;function Pe(e){return De.call(e)}var Ne="[object Null]",ke="[object Undefined]",V=x?x.toStringTag:void 0;function Me(e){return e==null?e===void 0?ke:Ne:V&&V in Object(e)?Ue(e):Pe(e)}function Ie(e){return e!=null&&typeof e=="object"}var ze="[object Symbol]";function We(e){return typeof e=="symbol"||Ie(e)&&Me(e)==ze}function Ge(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var Ze=Array.isArray,Ve=1/0,B=x?x.prototype:void 0,H=B?B.toString:void 0;function re(e){if(typeof e=="string")return e;if(Ze(e))return Ge(e,re)+"";if(We(e))return H?H.call(e):"";var t=e+"";return t=="0"&&1/e==-Ve?"-0":t}function ne(e){return e==null?"":re(e)}function Be(e,t,r,n){for(var o=-1,s=e==null?0:e.length;++o<s;)r=t(r,e[o],o,e);return r}function He(e){return function(t){return e==null?void 0:e[t]}}var Je={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qe=He(Je),Ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fe="\\u0300-\\u036f",Ke="\\ufe20-\\ufe2f",Xe="\\u20d0-\\u20ff",Qe=Fe+Ke+Xe,et="["+Qe+"]",tt=RegExp(et,"g");function rt(e){return e=ne(e),e&&e.replace(Ye,qe).replace(tt,"")}var nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ot(e){return e.match(nt)||[]}var ut=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function st(e){return ut.test(e)}var oe="\\ud800-\\udfff",it="\\u0300-\\u036f",at="\\ufe20-\\ufe2f",ct="\\u20d0-\\u20ff",lt=it+at+ct,ue="\\u2700-\\u27bf",se="a-z\\xdf-\\xf6\\xf8-\\xff",ft="\\xac\\xb1\\xd7\\xf7",dt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pt="\\u2000-\\u206f",ht=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ie="A-Z\\xc0-\\xd6\\xd8-\\xde",bt="\\ufe0e\\ufe0f",ae=ft+dt+pt+ht,ce="['’]",J="["+ae+"]",gt="["+lt+"]",le="\\d+",mt="["+ue+"]",fe="["+se+"]",de="[^"+oe+ae+le+ue+se+ie+"]",xt="\\ud83c[\\udffb-\\udfff]",yt="(?:"+gt+"|"+xt+")",vt="[^"+oe+"]",pe="(?:\\ud83c[\\udde6-\\uddff]){2}",he="[\\ud800-\\udbff][\\udc00-\\udfff]",g="["+ie+"]",wt="\\u200d",q="(?:"+fe+"|"+de+")",Ct="(?:"+g+"|"+de+")",Y="(?:"+ce+"(?:d|ll|m|re|s|t|ve))?",F="(?:"+ce+"(?:D|LL|M|RE|S|T|VE))?",be=yt+"?",ge="["+bt+"]?",Tt="(?:"+wt+"(?:"+[vt,pe,he].join("|")+")"+ge+be+")*",_t="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Et="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",St=ge+be+Tt,Ot="(?:"+[mt,pe,he].join("|")+")"+St,At=RegExp([g+"?"+fe+"+"+Y+"(?="+[J,g,"$"].join("|")+")",Ct+"+"+F+"(?="+[J,g+q,"$"].join("|")+")",g+"?"+q+"+"+Y,g+"+"+F,Et,_t,le,Ot].join("|"),"g");function Rt(e){return e.match(At)||[]}function jt(e,t,r){return e=ne(e),t=t,t===void 0?st(e)?Rt(e):ot(e):e.match(t)||[]}var Lt="['’]",Ut=RegExp(Lt,"g");function $t(e){return function(t){return Be(jt(rt(t).replace(Ut,"")),e,"")}}var Dt=$t(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Pt=Object.defineProperty,Nt=(e,t,r)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$=(e,t,r)=>(Nt(e,typeof t!="symbol"?t+"":t,r),r);function kt(e,t){let r;const n=()=>{r!==void 0&&t&&t(r),r=void 0};return[()=>r===void 0?r=e(n):r,n]}class Mt{constructor(t,r={}){this.scope=t,this.options=r}print(t,...r){const n=new Date,o=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(n),{textColor:s,bgColor:u}=this.options,i="font-weight: bold;padding: 0 5px;border-radius:5px";console[t](`%c${o}%c / %c${this.scope}`,`${i};background-color: lightblue;color:black`,"",`${i};${s?`color:${s};`:""}${u?`background-color:${u}`:""}`,...r)}error(...t){this.print("error",...t)}log(...t){this.print("log",...t)}}const It=new Mt("SDK",{bgColor:"forestgreen",textColor:"white"});class K{constructor(){$(this,"listeners",new Map),$(this,"listenersCount",0),$(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(t,...r){this.subscribeListeners.forEach(n=>n({event:t,args:r})),(this.listeners.get(t)||[]).forEach(([n,o])=>{n(...r),o&&this.off(t,n)})}on(t,r,n){let o=this.listeners.get(t);return o||this.listeners.set(t,o=[]),o.push([r,n]),this.listenersCount+=1,()=>this.off(t,r)}off(t,r){const n=this.listeners.get(t)||[];for(let o=0;o<n.length;o+=1)if(r===n[o][0]){n.splice(o,1),this.listenersCount-=1;return}}subscribe(t){return this.subscribeListeners.push(t),()=>this.unsubscribe(t)}unsubscribe(t){for(let r=0;r<this.subscribeListeners.length;r+=1)if(this.subscribeListeners[r]===t){this.subscribeListeners.splice(r,1);return}}}function X(e,t,r){return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)}function zt(...e){let t=!1;const r=e.flat(1);return[n=>!t&&r.push(n),()=>{t||(t=!0,r.forEach(n=>n()))},t]}class D extends Error{constructor(t,r,n){super(r,{cause:n}),this.type=t,Object.setPrototypeOf(this,D.prototype)}}function P(e,t,r){return new D(e,t,r)}const Wt="ERR_UNEXPECTED_TYPE",me="ERR_PARSE";function j(){return P(Wt,"Value has unexpected type")}class xe{constructor(t,r,n){this.parser=t,this.isOptional=r,this.type=n}parse(t){if(!(this.isOptional&&t===void 0))try{return this.parser(t)}catch(r){throw P(me,`Unable to parse value${this.type?` as ${this.type}`:""}`,r)}}optional(){return this.isOptional=!0,this}}function N(e,t){return()=>new xe(e,!1,t)}const m=N(e=>{if(typeof e=="boolean")return e;const t=String(e);if(t==="1"||t==="true")return!0;if(t==="0"||t==="false")return!1;throw j()},"boolean");function Gt(e,t){const r={};for(const n in e){const o=e[n];if(!o)continue;let s,u;if(typeof o=="function"||"parse"in o)s=n,u=typeof o=="function"?o:o.parse.bind(o);else{const{type:i}=o;s=o.from||n,u=typeof i=="function"?i:i.parse.bind(i)}try{const i=u(t(s));i!==void 0&&(r[n]=i)}catch(i){throw P(me,`Unable to parse field "${n}"`,i)}}return r}function Zt(e){let t=e;if(typeof t=="string"&&(t=JSON.parse(t)),typeof t!="object"||t===null||Array.isArray(t))throw j();return t}function b(e,t){return new xe(r=>{const n=Zt(r);return Gt(e,o=>n[o])},!1,t)}const R=N(e=>{if(typeof e=="number")return e;if(typeof e=="string"){const t=Number(e);if(!Number.isNaN(t))return t}throw j()},"number"),a=N(e=>{if(typeof e=="string"||typeof e=="number")return e.toString();throw j()},"string");function Vt(e){return b({eventType:a(),eventData:t=>t}).parse(e)}function Bt(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]})}function Ht(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}function Jt(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(e=>{let t=window;e.forEach((r,n,o)=>{if(n===o.length-1){t[r]=Ht;return}r in t||(t[r]={}),t=t[r]})})}const qt={clipboard_text_received:b({req_id:a(),data:e=>e===null?e:a().optional().parse(e)}),custom_method_invoked:b({req_id:a(),result:e=>e,error:a().optional()}),popup_closed:{parse(e){return b({button_id:t=>t==null?void 0:a().parse(t)}).parse(e??{})}},viewport_changed:b({height:R(),width:e=>e==null?window.innerWidth:R().parse(e),is_state_stable:m(),is_expanded:m()})};function Yt(){const e=new K,t=new K;t.subscribe(n=>{e.emit("event",{name:n.event,payload:n.args[0]})}),Jt();const[,r]=zt(Bt,X("resize",()=>{t.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),X("message",n=>{if(n.source!==window.parent)return;let o;try{o=Vt(n.data)}catch{return}const{eventType:s,eventData:u}=o,i=qt[s];try{const l=i?i.parse(u):u;t.emit(...l?[s,l]:[s])}catch(l){It.error(`An error occurred processing the "${s}" event from the Telegram application.
Please, file an issue here:
https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,o,l)}}),()=>e.clear(),()=>t.clear());return[{on:t.on.bind(t),off:t.off.bind(t),subscribe(n){return e.on("event",n)},unsubscribe(n){e.off("event",n)},get count(){return t.count+e.count}},r]}const[Ft,nr]=kt(e=>{const[t,r]=Yt(),n=t.off.bind(t);return t.off=(o,s)=>{const{count:u}=t;n(o,s),u&&!t.count&&e()},[t,r]},([,e])=>e());function Kt(){return Ft()[0]}function Xt(e,t,r){return Kt().on(e,t,r)}b({id:R(),type:a(),title:a(),photoUrl:{type:a().optional(),from:"photo_url"},username:a().optional()},"Chat").optional();b({addedToAttachmentMenu:{type:m().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:m().optional(),from:"allows_write_to_pm"},firstName:{type:a(),from:"first_name"},id:R(),isBot:{type:m().optional(),from:"is_bot"},isPremium:{type:m().optional(),from:"is_premium"},languageCode:{type:a().optional(),from:"language_code"},lastName:{type:a().optional(),from:"last_name"},photoUrl:{type:a().optional(),from:"photo_url"},username:a().optional()},"User").optional();function Q(e,t,r){const n=e.slice();return n[4]=t[r],n[6]=r,n}function ee(e){let t,r,n,o=e[1][e[6]]+"",s,u,i,l,d,y=e[4]+"",_,L,U,k;return{c(){t=w("div"),r=E(),n=w("div"),s=z(o),u=E(),i=w("br"),l=E(),d=w("div"),_=z(y),L=E(),this.h()},l(f){t=C(f,"DIV",{class:!0,style:!0}),O(t).forEach(p),r=S(f),n=C(f,"DIV",{});var c=O(n);s=W(c,o),u=S(c),i=C(c,"BR",{}),l=S(c),d=C(c,"DIV",{title:!0,role:!0,class:!0});var M=O(d);_=W(M,y),M.forEach(p),L=S(c),c.forEach(p),this.h()},h(){T(t,"class","thumb svelte-63hxck"),G(t,"background-color",e[4]),T(d,"title","click to copy"),T(d,"role","button"),T(d,"class","color svelte-63hxck")},m(f,c){A(f,t,c),A(f,r,c),A(f,n,c),h(n,s),h(n,u),h(n,i),h(n,l),h(n,d),h(d,_),h(n,L),U||(k=Ee(d,"click",function(){we(e[2](e[4]))&&e[2](e[4]).apply(this,arguments)}),U=!0)},p(f,c){e=f,c&1&&G(t,"background-color",e[4]),c&1&&y!==(y=e[4]+"")&&Se(_,y)},d(f){f&&(p(t),p(r),p(n)),U=!1,k()}}}function Qt(e){let t,r=Z(e[0]),n=[];for(let o=0;o<r.length;o+=1)n[o]=ee(Q(e,r,o));return{c(){t=w("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){t=C(o,"DIV",{class:!0});var s=O(t);for(let u=0;u<n.length;u+=1)n[u].l(s);s.forEach(p),this.h()},h(){T(t,"class","list")},m(o,s){A(o,t,s);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null)},p(o,[s]){if(s&7){r=Z(o[0]);let u;for(u=0;u<r.length;u+=1){const i=Q(o,r,u);n[u]?n[u].p(i,s):(n[u]=ee(i),n[u].c(),n[u].m(t,null))}for(;u<n.length;u+=1)n[u].d(1);n.length=r.length}},i:I,o:I,d(o){o&&p(t),_e(n,o)}}}function er(e,t,r){let n=[],o=["accentTextColor","bgColor","buttonColor","buttonTextColor","destructiveTextColor","headerBgColor","hintColor","linkColor","secondaryBgColor","sectionBgColor","sectionHeaderTextColor","subtitleTextColor","textColor"];const s=i=>o.map(l=>getComputedStyle(i).getPropertyValue(`--tg-theme-${Dt(l)}`));return ve(()=>{const i=document.querySelector("html");r(0,n=s(i)),Xt("theme_changed",()=>{const l=document.querySelector("html");r(0,n=s(l))})}),[n,o,i=>{navigator.clipboard.writeText(i)}]}class or extends Ce{constructor(t){super(),Te(this,t,er,Qt,ye,{})}}export{or as component};
