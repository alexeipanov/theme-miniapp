import{_ as ve}from"../chunks/preload-helper.D6kgxu3v.js";import{s as we,n as W,o as _e,i as Te}from"../chunks/scheduler.Bmg8oFKD.js";import{S as Ce,i as Ee,e as w,c as _,a as S,d as p,o as T,g as A,z as Oe,s as E,t as I,f as O,b as z,p as G,h as b,A as Se,j as Ae}from"../chunks/index.ttLCn4K3.js";function V(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}var Re=typeof global=="object"&&global&&global.Object===Object&&global,je=typeof self=="object"&&self&&self.Object===Object&&self,Pe=Re||je||Function("return this")(),x=Pe.Symbol,te=Object.prototype,Ue=te.hasOwnProperty,$e=te.toString,v=x?x.toStringTag:void 0;function Le(e){var t=Ue.call(e,v),r=e[v];try{e[v]=void 0;var n=!0}catch{}var o=$e.call(e);return n&&(t?e[v]=r:delete e[v]),o}var Ne=Object.prototype,De=Ne.toString;function Me(e){return De.call(e)}var ke="[object Null]",We="[object Undefined]",Z=x?x.toStringTag:void 0;function Ie(e){return e==null?e===void 0?We:ke:Z&&Z in Object(e)?Le(e):Me(e)}function ze(e){return e!=null&&typeof e=="object"}var Ge="[object Symbol]";function Ve(e){return typeof e=="symbol"||ze(e)&&Ie(e)==Ge}function Ze(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var Je=Array.isArray,Be=1/0,J=x?x.prototype:void 0,B=J?J.toString:void 0;function re(e){if(typeof e=="string")return e;if(Je(e))return Ze(e,re)+"";if(Ve(e))return B?B.call(e):"";var t=e+"";return t=="0"&&1/e==-Be?"-0":t}function ne(e){return e==null?"":re(e)}function He(e,t,r,n){for(var o=-1,u=e==null?0:e.length;++o<u;)r=t(r,e[o],o,e);return r}function Ye(e){return function(t){return e==null?void 0:e[t]}}var Fe={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qe=Ye(Fe),Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe="\\u0300-\\u036f",Qe="\\ufe20-\\ufe2f",et="\\u20d0-\\u20ff",tt=Xe+Qe+et,rt="["+tt+"]",nt=RegExp(rt,"g");function ot(e){return e=ne(e),e&&e.replace(Ke,qe).replace(nt,"")}var it=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ut(e){return e.match(it)||[]}var st=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function at(e){return st.test(e)}var oe="\\ud800-\\udfff",ct="\\u0300-\\u036f",lt="\\ufe20-\\ufe2f",ft="\\u20d0-\\u20ff",dt=ct+lt+ft,ie="\\u2700-\\u27bf",ue="a-z\\xdf-\\xf6\\xf8-\\xff",pt="\\xac\\xb1\\xd7\\xf7",bt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ht="\\u2000-\\u206f",gt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",se="A-Z\\xc0-\\xd6\\xd8-\\xde",mt="\\ufe0e\\ufe0f",ae=pt+bt+ht+gt,ce="['’]",H="["+ae+"]",xt="["+dt+"]",le="\\d+",yt="["+ie+"]",fe="["+ue+"]",de="[^"+oe+ae+le+ie+ue+se+"]",vt="\\ud83c[\\udffb-\\udfff]",wt="(?:"+xt+"|"+vt+")",_t="[^"+oe+"]",pe="(?:\\ud83c[\\udde6-\\uddff]){2}",be="[\\ud800-\\udbff][\\udc00-\\udfff]",g="["+se+"]",Tt="\\u200d",Y="(?:"+fe+"|"+de+")",Ct="(?:"+g+"|"+de+")",F="(?:"+ce+"(?:d|ll|m|re|s|t|ve))?",q="(?:"+ce+"(?:D|LL|M|RE|S|T|VE))?",he=wt+"?",ge="["+mt+"]?",Et="(?:"+Tt+"(?:"+[_t,pe,be].join("|")+")"+ge+he+")*",Ot="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",St="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",At=ge+he+Et,Rt="(?:"+[yt,pe,be].join("|")+")"+At,jt=RegExp([g+"?"+fe+"+"+F+"(?="+[H,g,"$"].join("|")+")",Ct+"+"+q+"(?="+[H,g+Y,"$"].join("|")+")",g+"?"+Y+"+"+F,g+"+"+q,St,Ot,le,Rt].join("|"),"g");function Pt(e){return e.match(jt)||[]}function Ut(e,t,r){return e=ne(e),t=t,t===void 0?at(e)?Pt(e):ut(e):e.match(t)||[]}var $t="['’]",Lt=RegExp($t,"g");function Nt(e){return function(t){return He(Ut(ot(t).replace(Lt,"")),e,"")}}var Dt=Nt(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Mt=Object.defineProperty,kt=(e,t,r)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L=(e,t,r)=>(kt(e,typeof t!="symbol"?t+"":t,r),r);function Wt(e,t){let r;const n=()=>{r!==void 0&&t&&t(r),r=void 0};return[()=>r===void 0?r=e(n):r,n]}class It{constructor(t,r={}){this.scope=t,this.options=r}print(t,...r){const n=new Date,o=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(n),{textColor:u,bgColor:i}=this.options,s="font-weight: bold;padding: 0 5px;border-radius:5px";console[t](`%c${o}%c / %c${this.scope}`,`${s};background-color: lightblue;color:black`,"",`${s};${u?`color:${u};`:""}${i?`background-color:${i}`:""}`,...r)}error(...t){this.print("error",...t)}log(...t){this.print("log",...t)}}const zt=new It("SDK",{bgColor:"forestgreen",textColor:"white"});class K{constructor(){L(this,"listeners",new Map),L(this,"listenersCount",0),L(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(t,...r){this.subscribeListeners.forEach(n=>n({event:t,args:r})),(this.listeners.get(t)||[]).forEach(([n,o])=>{n(...r),o&&this.off(t,n)})}on(t,r,n){let o=this.listeners.get(t);return o||this.listeners.set(t,o=[]),o.push([r,n]),this.listenersCount+=1,()=>this.off(t,r)}off(t,r){const n=this.listeners.get(t)||[];for(let o=0;o<n.length;o+=1)if(r===n[o][0]){n.splice(o,1),this.listenersCount-=1;return}}subscribe(t){return this.subscribeListeners.push(t),()=>this.unsubscribe(t)}unsubscribe(t){for(let r=0;r<this.subscribeListeners.length;r+=1)if(this.subscribeListeners[r]===t){this.subscribeListeners.splice(r,1);return}}}function X(e,t,r){return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)}function Gt(...e){let t=!1;const r=e.flat(1);return[n=>!t&&r.push(n),()=>{t||(t=!0,r.forEach(n=>n()))},t]}class N extends Error{constructor(t,r,n){super(r,{cause:n}),this.type=t,Object.setPrototypeOf(this,N.prototype)}}function j(e,t,r){return new N(e,t,r)}const Vt="ERR_UNKNOWN_ENV",Zt="ERR_UNEXPECTED_TYPE",me="ERR_PARSE";function P(){return j(Zt,"Value has unexpected type")}class xe{constructor(t,r,n){this.parser=t,this.isOptional=r,this.type=n}parse(t){if(!(this.isOptional&&t===void 0))try{return this.parser(t)}catch(r){throw j(me,`Unable to parse value${this.type?` as ${this.type}`:""}`,r)}}optional(){return this.isOptional=!0,this}}function D(e,t){return()=>new xe(e,!1,t)}const m=D(e=>{if(typeof e=="boolean")return e;const t=String(e);if(t==="1"||t==="true")return!0;if(t==="0"||t==="false")return!1;throw P()},"boolean");function Jt(e,t){const r={};for(const n in e){const o=e[n];if(!o)continue;let u,i;if(typeof o=="function"||"parse"in o)u=n,i=typeof o=="function"?o:o.parse.bind(o);else{const{type:s}=o;u=o.from||n,i=typeof s=="function"?s:s.parse.bind(s)}try{const s=i(t(u));s!==void 0&&(r[n]=s)}catch(s){throw j(me,`Unable to parse field "${n}"`,s)}}return r}function Bt(e){let t=e;if(typeof t=="string"&&(t=JSON.parse(t)),typeof t!="object"||t===null||Array.isArray(t))throw P();return t}function h(e,t){return new xe(r=>{const n=Bt(r);return Jt(e,o=>n[o])},!1,t)}const R=D(e=>{if(typeof e=="number")return e;if(typeof e=="string"){const t=Number(e);if(!Number.isNaN(t))return t}throw P()},"number"),a=D(e=>{if(typeof e=="string"||typeof e=="number")return e.toString();throw P()},"string");function Ht(e){return h({eventType:a(),eventData:t=>t}).parse(e)}function Yt(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]})}function Ft(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}function qt(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(e=>{let t=window;e.forEach((r,n,o)=>{if(n===o.length-1){t[r]=Ft;return}r in t||(t[r]={}),t=t[r]})})}const Kt={clipboard_text_received:h({req_id:a(),data:e=>e===null?e:a().optional().parse(e)}),custom_method_invoked:h({req_id:a(),result:e=>e,error:a().optional()}),popup_closed:{parse(e){return h({button_id:t=>t==null?void 0:a().parse(t)}).parse(e??{})}},viewport_changed:h({height:R(),width:e=>e==null?window.innerWidth:R().parse(e),is_state_stable:m(),is_expanded:m()})};function Xt(){const e=new K,t=new K;t.subscribe(n=>{e.emit("event",{name:n.event,payload:n.args[0]})}),qt();const[,r]=Gt(Yt,X("resize",()=>{t.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),X("message",n=>{if(n.source!==window.parent)return;let o;try{o=Ht(n.data)}catch{return}const{eventType:u,eventData:i}=o,s=Kt[u];try{const c=s?s.parse(i):i;t.emit(...c?[u,c]:[u])}catch(c){zt.error(`An error occurred processing the "${u}" event from the Telegram application.
Please, file an issue here:
https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,o,c)}}),()=>e.clear(),()=>t.clear());return[{on:t.on.bind(t),off:t.off.bind(t),subscribe(n){return e.on("event",n)},unsubscribe(n){e.off("event",n)},get count(){return t.count+e.count}},r]}const[Qt,br]=Wt(e=>{const[t,r]=Xt(),n=t.off.bind(t);return t.off=(o,u)=>{const{count:i}=t;n(o,u),i&&!t.count&&e()},[t,r]},([,e])=>e());function er(){return Qt()[0]}function tr(e,t,r){return er().on(e,t,r)}function ye(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function rr(e){return"external"in e&&ye(e.external)&&"notify"in e.external&&typeof e.external.notify=="function"}function nr(e){return"TelegramWebviewProxy"in e&&ye(e.TelegramWebviewProxy)&&"postEvent"in e.TelegramWebviewProxy&&typeof e.TelegramWebviewProxy.postEvent=="function"}function or(){try{return window.self!==window.top}catch{return!0}}const ir="https://web.telegram.org";let ur=ir;function sr(){return ur}function ar(e,t,r){let n={},o;if(n={},or())return window.parent.postMessage(JSON.stringify({eventType:e,eventData:o}),n.targetOrigin||sr());if(rr(window)){window.external.notify(JSON.stringify({eventType:e,eventData:o}));return}if(nr(window)){window.TelegramWebviewProxy.postEvent(e,JSON.stringify(o));return}throw j(Vt,"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.")}h({id:R(),type:a(),title:a(),photoUrl:{type:a().optional(),from:"photo_url"},username:a().optional()},"Chat").optional();h({addedToAttachmentMenu:{type:m().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:m().optional(),from:"allows_write_to_pm"},firstName:{type:a(),from:"first_name"},id:R(),isBot:{type:m().optional(),from:"is_bot"},isPremium:{type:m().optional(),from:"is_premium"},languageCode:{type:a().optional(),from:"language_code"},lastName:{type:a().optional(),from:"last_name"},photoUrl:{type:a().optional(),from:"photo_url"},username:a().optional()},"User").optional();function Q(e,t,r){const n=e.slice();return n[5]=t[r],n[7]=r,n}function ee(e){let t,r,n,o=e[1][e[7]]+"",u,i,s,c,f,y=e[5]+"",C,U,$,M;return{c(){t=w("div"),r=E(),n=w("div"),u=I(o),i=E(),s=w("br"),c=E(),f=w("div"),C=I(y),U=E(),this.h()},l(d){t=_(d,"DIV",{class:!0,style:!0}),S(t).forEach(p),r=O(d),n=_(d,"DIV",{});var l=S(n);u=z(l,o),i=O(l),s=_(l,"BR",{}),c=O(l),f=_(l,"DIV",{title:!0,role:!0,class:!0});var k=S(f);C=z(k,y),k.forEach(p),U=O(l),l.forEach(p),this.h()},h(){T(t,"class","thumb svelte-63hxck"),G(t,"background-color",e[5]),T(f,"title","click to copy"),T(f,"role","button"),T(f,"class","color svelte-63hxck")},m(d,l){A(d,t,l),A(d,r,l),A(d,n,l),b(n,u),b(n,i),b(n,s),b(n,c),b(n,f),b(f,C),b(n,U),$||(M=Se(f,"click",function(){Te(e[2](e[5]))&&e[2](e[5]).apply(this,arguments)}),$=!0)},p(d,l){e=d,l&1&&G(t,"background-color",e[5]),l&1&&y!==(y=e[5]+"")&&Ae(C,y)},d(d){d&&(p(t),p(r),p(n)),$=!1,M()}}}function cr(e){let t,r=V(e[0]),n=[];for(let o=0;o<r.length;o+=1)n[o]=ee(Q(e,r,o));return{c(){t=w("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){t=_(o,"DIV",{class:!0});var u=S(t);for(let i=0;i<n.length;i+=1)n[i].l(u);u.forEach(p),this.h()},h(){T(t,"class","list")},m(o,u){A(o,t,u);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(t,null)},p(o,[u]){if(u&7){r=V(o[0]);let i;for(i=0;i<r.length;i+=1){const s=Q(o,r,i);n[i]?n[i].p(s,u):(n[i]=ee(s),n[i].c(),n[i].m(t,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},i:W,o:W,d(o){o&&p(t),Oe(n,o)}}}function lr(e,t,r){let n=[],o=["accentTextColor","bgColor","buttonColor","buttonTextColor","destructiveTextColor","headerBgColor","hintColor","linkColor","secondaryBgColor","sectionBgColor","sectionHeaderTextColor","subtitleTextColor","textColor"];const u=c=>o.map(f=>getComputedStyle(c).getPropertyValue(`--tg-theme-${Dt(f)}`));let i;return _e(async()=>{await ve(()=>import("../chunks/index.D9Nb2HTe.js").then(f=>f.i),[],import.meta.url),i=window.Telegram.WebApp,i.ready(),i.expand();const c=document.querySelector("html");r(0,n=u(c)),tr("theme_changed",()=>{ar("web_app_ready")})}),[n,o,c=>{navigator.clipboard.writeText(c)}]}class hr extends Ce{constructor(t){super(),Ee(this,t,lr,cr,we,{})}}export{hr as component};
