import{_ as ye}from"../chunks/preload-helper.D6kgxu3v.js";import{s as ve,n as I,o as we,i as _e}from"../chunks/scheduler.Bmg8oFKD.js";import{S as Ce,i as Te,e as w,c as _,a as S,d as p,o as C,g as A,z as Ee,s as E,t as W,f as O,b as z,p as G,h,A as Oe,j as Se}from"../chunks/index.ttLCn4K3.js";function Z(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}var Ae=typeof global=="object"&&global&&global.Object===Object&&global,Re=typeof self=="object"&&self&&self.Object===Object&&self,je=Ae||Re||Function("return this")(),x=je.Symbol,te=Object.prototype,Le=te.hasOwnProperty,Ue=te.toString,v=x?x.toStringTag:void 0;function Pe(e){var t=Le.call(e,v),r=e[v];try{e[v]=void 0;var o=!0}catch{}var n=Ue.call(e);return o&&(t?e[v]=r:delete e[v]),n}var De=Object.prototype,Ne=De.toString;function $e(e){return Ne.call(e)}var Me="[object Null]",ke="[object Undefined]",V=x?x.toStringTag:void 0;function Ie(e){return e==null?e===void 0?ke:Me:V&&V in Object(e)?Pe(e):$e(e)}function We(e){return e!=null&&typeof e=="object"}var ze="[object Symbol]";function Ge(e){return typeof e=="symbol"||We(e)&&Ie(e)==ze}function Ze(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}var Ve=Array.isArray,Be=1/0,B=x?x.prototype:void 0,H=B?B.toString:void 0;function re(e){if(typeof e=="string")return e;if(Ve(e))return Ze(e,re)+"";if(Ge(e))return H?H.call(e):"";var t=e+"";return t=="0"&&1/e==-Be?"-0":t}function oe(e){return e==null?"":re(e)}function He(e,t,r,o){for(var n=-1,s=e==null?0:e.length;++n<s;)r=t(r,e[n],n,e);return r}function qe(e){return function(t){return e==null?void 0:e[t]}}var Je={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ye=qe(Je),Fe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke="\\u0300-\\u036f",Xe="\\ufe20-\\ufe2f",Qe="\\u20d0-\\u20ff",et=Ke+Xe+Qe,tt="["+et+"]",rt=RegExp(tt,"g");function ot(e){return e=oe(e),e&&e.replace(Fe,Ye).replace(rt,"")}var nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ut(e){return e.match(nt)||[]}var st=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function it(e){return st.test(e)}var ne="\\ud800-\\udfff",at="\\u0300-\\u036f",ct="\\ufe20-\\ufe2f",lt="\\u20d0-\\u20ff",ft=at+ct+lt,ue="\\u2700-\\u27bf",se="a-z\\xdf-\\xf6\\xf8-\\xff",dt="\\xac\\xb1\\xd7\\xf7",pt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ht="\\u2000-\\u206f",bt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ie="A-Z\\xc0-\\xd6\\xd8-\\xde",gt="\\ufe0e\\ufe0f",ae=dt+pt+ht+bt,ce="['’]",q="["+ae+"]",mt="["+ft+"]",le="\\d+",xt="["+ue+"]",fe="["+se+"]",de="[^"+ne+ae+le+ue+se+ie+"]",yt="\\ud83c[\\udffb-\\udfff]",vt="(?:"+mt+"|"+yt+")",wt="[^"+ne+"]",pe="(?:\\ud83c[\\udde6-\\uddff]){2}",he="[\\ud800-\\udbff][\\udc00-\\udfff]",g="["+ie+"]",_t="\\u200d",J="(?:"+fe+"|"+de+")",Ct="(?:"+g+"|"+de+")",Y="(?:"+ce+"(?:d|ll|m|re|s|t|ve))?",F="(?:"+ce+"(?:D|LL|M|RE|S|T|VE))?",be=vt+"?",ge="["+gt+"]?",Tt="(?:"+_t+"(?:"+[wt,pe,he].join("|")+")"+ge+be+")*",Et="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ot="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",St=ge+be+Tt,At="(?:"+[xt,pe,he].join("|")+")"+St,Rt=RegExp([g+"?"+fe+"+"+Y+"(?="+[q,g,"$"].join("|")+")",Ct+"+"+F+"(?="+[q,g+J,"$"].join("|")+")",g+"?"+J+"+"+Y,g+"+"+F,Ot,Et,le,At].join("|"),"g");function jt(e){return e.match(Rt)||[]}function Lt(e,t,r){return e=oe(e),t=t,t===void 0?it(e)?jt(e):ut(e):e.match(t)||[]}var Ut="['’]",Pt=RegExp(Ut,"g");function Dt(e){return function(t){return He(Lt(ot(t).replace(Pt,"")),e,"")}}var Nt=Dt(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),$t=Object.defineProperty,Mt=(e,t,r)=>t in e?$t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t,r)=>(Mt(e,typeof t!="symbol"?t+"":t,r),r);function kt(e,t){let r;const o=()=>{r!==void 0&&t&&t(r),r=void 0};return[()=>r===void 0?r=e(o):r,o]}class It{constructor(t,r={}){this.scope=t,this.options=r}print(t,...r){const o=new Date,n=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(o),{textColor:s,bgColor:u}=this.options,i="font-weight: bold;padding: 0 5px;border-radius:5px";console[t](`%c${n}%c / %c${this.scope}`,`${i};background-color: lightblue;color:black`,"",`${i};${s?`color:${s};`:""}${u?`background-color:${u}`:""}`,...r)}error(...t){this.print("error",...t)}log(...t){this.print("log",...t)}}const Wt=new It("SDK",{bgColor:"forestgreen",textColor:"white"});class K{constructor(){P(this,"listeners",new Map),P(this,"listenersCount",0),P(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(t,...r){this.subscribeListeners.forEach(o=>o({event:t,args:r})),(this.listeners.get(t)||[]).forEach(([o,n])=>{o(...r),n&&this.off(t,o)})}on(t,r,o){let n=this.listeners.get(t);return n||this.listeners.set(t,n=[]),n.push([r,o]),this.listenersCount+=1,()=>this.off(t,r)}off(t,r){const o=this.listeners.get(t)||[];for(let n=0;n<o.length;n+=1)if(r===o[n][0]){o.splice(n,1),this.listenersCount-=1;return}}subscribe(t){return this.subscribeListeners.push(t),()=>this.unsubscribe(t)}unsubscribe(t){for(let r=0;r<this.subscribeListeners.length;r+=1)if(this.subscribeListeners[r]===t){this.subscribeListeners.splice(r,1);return}}}function X(e,t,r){return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)}function zt(...e){let t=!1;const r=e.flat(1);return[o=>!t&&r.push(o),()=>{t||(t=!0,r.forEach(o=>o()))},t]}class D extends Error{constructor(t,r,o){super(r,{cause:o}),this.type=t,Object.setPrototypeOf(this,D.prototype)}}function N(e,t,r){return new D(e,t,r)}const Gt="ERR_UNEXPECTED_TYPE",me="ERR_PARSE";function j(){return N(Gt,"Value has unexpected type")}class xe{constructor(t,r,o){this.parser=t,this.isOptional=r,this.type=o}parse(t){if(!(this.isOptional&&t===void 0))try{return this.parser(t)}catch(r){throw N(me,`Unable to parse value${this.type?` as ${this.type}`:""}`,r)}}optional(){return this.isOptional=!0,this}}function $(e,t){return()=>new xe(e,!1,t)}const m=$(e=>{if(typeof e=="boolean")return e;const t=String(e);if(t==="1"||t==="true")return!0;if(t==="0"||t==="false")return!1;throw j()},"boolean");function Zt(e,t){const r={};for(const o in e){const n=e[o];if(!n)continue;let s,u;if(typeof n=="function"||"parse"in n)s=o,u=typeof n=="function"?n:n.parse.bind(n);else{const{type:i}=n;s=n.from||o,u=typeof i=="function"?i:i.parse.bind(i)}try{const i=u(t(s));i!==void 0&&(r[o]=i)}catch(i){throw N(me,`Unable to parse field "${o}"`,i)}}return r}function Vt(e){let t=e;if(typeof t=="string"&&(t=JSON.parse(t)),typeof t!="object"||t===null||Array.isArray(t))throw j();return t}function b(e,t){return new xe(r=>{const o=Vt(r);return Zt(e,n=>o[n])},!1,t)}const R=$(e=>{if(typeof e=="number")return e;if(typeof e=="string"){const t=Number(e);if(!Number.isNaN(t))return t}throw j()},"number"),c=$(e=>{if(typeof e=="string"||typeof e=="number")return e.toString();throw j()},"string");function Bt(e){return b({eventType:c(),eventData:t=>t}).parse(e)}function Ht(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]})}function qt(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}function Jt(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(e=>{let t=window;e.forEach((r,o,n)=>{if(o===n.length-1){t[r]=qt;return}r in t||(t[r]={}),t=t[r]})})}const Yt={clipboard_text_received:b({req_id:c(),data:e=>e===null?e:c().optional().parse(e)}),custom_method_invoked:b({req_id:c(),result:e=>e,error:c().optional()}),popup_closed:{parse(e){return b({button_id:t=>t==null?void 0:c().parse(t)}).parse(e??{})}},viewport_changed:b({height:R(),width:e=>e==null?window.innerWidth:R().parse(e),is_state_stable:m(),is_expanded:m()})};function Ft(){const e=new K,t=new K;t.subscribe(o=>{e.emit("event",{name:o.event,payload:o.args[0]})}),Jt();const[,r]=zt(Ht,X("resize",()=>{t.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),X("message",o=>{if(o.source!==window.parent)return;let n;try{n=Bt(o.data)}catch{return}const{eventType:s,eventData:u}=n,i=Yt[s];try{const l=i?i.parse(u):u;t.emit(...l?[s,l]:[s])}catch(l){Wt.error(`An error occurred processing the "${s}" event from the Telegram application.
Please, file an issue here:
https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,n,l)}}),()=>e.clear(),()=>t.clear());return[{on:t.on.bind(t),off:t.off.bind(t),subscribe(o){return e.on("event",o)},unsubscribe(o){e.off("event",o)},get count(){return t.count+e.count}},r]}const[Kt,ur]=kt(e=>{const[t,r]=Ft(),o=t.off.bind(t);return t.off=(n,s)=>{const{count:u}=t;o(n,s),u&&!t.count&&e()},[t,r]},([,e])=>e());function Xt(){return Kt()[0]}function Qt(e,t,r){return Xt().on(e,t,r)}b({id:R(),type:c(),title:c(),photoUrl:{type:c().optional(),from:"photo_url"},username:c().optional()},"Chat").optional();b({addedToAttachmentMenu:{type:m().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:m().optional(),from:"allows_write_to_pm"},firstName:{type:c(),from:"first_name"},id:R(),isBot:{type:m().optional(),from:"is_bot"},isPremium:{type:m().optional(),from:"is_premium"},languageCode:{type:c().optional(),from:"language_code"},lastName:{type:c().optional(),from:"last_name"},photoUrl:{type:c().optional(),from:"photo_url"},username:c().optional()},"User").optional();function Q(e,t,r){const o=e.slice();return o[5]=t[r],o[7]=r,o}function ee(e){let t,r,o,n=e[1][e[7]]+"",s,u,i,l,a,y=e[5]+"",T,L,U,M;return{c(){t=w("div"),r=E(),o=w("div"),s=W(n),u=E(),i=w("br"),l=E(),a=w("div"),T=W(y),L=E(),this.h()},l(d){t=_(d,"DIV",{class:!0,style:!0}),S(t).forEach(p),r=O(d),o=_(d,"DIV",{});var f=S(o);s=z(f,n),u=O(f),i=_(f,"BR",{}),l=O(f),a=_(f,"DIV",{title:!0,role:!0,class:!0});var k=S(a);T=z(k,y),k.forEach(p),L=O(f),f.forEach(p),this.h()},h(){C(t,"class","thumb svelte-63hxck"),G(t,"background-color",e[5]),C(a,"title","click to copy"),C(a,"role","button"),C(a,"class","color svelte-63hxck")},m(d,f){A(d,t,f),A(d,r,f),A(d,o,f),h(o,s),h(o,u),h(o,i),h(o,l),h(o,a),h(a,T),h(o,L),U||(M=Oe(a,"click",function(){_e(e[2](e[5]))&&e[2](e[5]).apply(this,arguments)}),U=!0)},p(d,f){e=d,f&1&&G(t,"background-color",e[5]),f&1&&y!==(y=e[5]+"")&&Se(T,y)},d(d){d&&(p(t),p(r),p(o)),U=!1,M()}}}function er(e){let t,r=Z(e[0]),o=[];for(let n=0;n<r.length;n+=1)o[n]=ee(Q(e,r,n));return{c(){t=w("div");for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){t=_(n,"DIV",{class:!0});var s=S(t);for(let u=0;u<o.length;u+=1)o[u].l(s);s.forEach(p),this.h()},h(){C(t,"class","list")},m(n,s){A(n,t,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null)},p(n,[s]){if(s&7){r=Z(n[0]);let u;for(u=0;u<r.length;u+=1){const i=Q(n,r,u);o[u]?o[u].p(i,s):(o[u]=ee(i),o[u].c(),o[u].m(t,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}},i:I,o:I,d(n){n&&p(t),Ee(o,n)}}}function tr(e,t,r){let o=[],n=["accentTextColor","bgColor","buttonColor","buttonTextColor","destructiveTextColor","headerBgColor","hintColor","linkColor","secondaryBgColor","sectionBgColor","sectionHeaderTextColor","subtitleTextColor","textColor"];const s=l=>n.map(a=>getComputedStyle(l).getPropertyValue(`--tg-theme-${Nt(a)}`));let u;return we(async()=>{await ye(()=>import("../chunks/index.D9Nb2HTe.js").then(a=>a.i),[],import.meta.url),u=window.Telegram.WebApp,u.ready(),u.expand();const l=document.querySelector("html");r(0,o=s(l)),u.onEvent("theme_changed",function(){console.log("theme changed");const a=document.querySelector("html");console.log(u.themeParams()),r(0,o=s(a)),console.log(o),r(0,o=Object.values(event.theme_params))}),u.onEvent("ready",function(){console.log("ready");const a=document.querySelector("html");console.log(u.themeParams()),r(0,o=s(a))}),Qt("ready",a=>{console.log("ready2"),r(0,o=Object.values(a.theme_params))})}),[o,n,l=>{navigator.clipboard.writeText(l)}]}class sr extends Ce{constructor(t){super(),Te(this,t,tr,er,ve,{})}}export{sr as component};
